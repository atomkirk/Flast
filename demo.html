<!DOCTYPE html>
<!-- saved from url=(0048)http://phrogz.net/tmp/canvas_zoom_to_cursor.html -->
<html lang="en" data-ember-extension="1">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Zooming Test</title>
    <style type="text/css" media="screen">
      body { background:#eee; margin:1em; text-align:center; }
      canvas { display:block; margin:1em auto; background:#fff; border:1px solid #ccc }
    </style>
    <script src="flast.js"></script>
  </head>
  <body>
    <canvas width="800" height="600"></canvas>

    <script type="text/javascript" charset="utf-8">
      window.onload = () => {
        var canvas = document.getElementsByTagName('canvas')[0];
        window.editor = new Flast(canvas, {
          getTileUrl: function(zoom, x, y) {
            return `http://useredline-api.s3.amazonaws.com/development/tiles/168d136e60b14850d7a671e8/tile_${zoom}_${x}x${y}.jpg`;
          }
        });
      };

      function selectArrowTool(e) {
        editor._state.tool = 'arrow';
      }

      function selectLineTool(e) {
        editor._state.tool = 'line';
      }

      function selectCircleTool(e) {
        editor._state.tool = 'circle';
      }

      function selectRectangleTool(e) {
        editor._state.tool = 'rectangle';
      }
    </script>
    <button onclick="selectArrowTool()">arrow</button>
    <button onclick="selectLineTool()">line</button>
    <button onclick="selectCircleTool()">circle</button>
    <button onclick="selectRectangleTool()">rectangle</button>
  </body>
</html>
